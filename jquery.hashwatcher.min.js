(function(c,b,e){var d=(function(){var j=1;var g={previous:{raw:"",pairs:{}},current:{raw:"",pairs:{}}};var i={};var h=function(){var k=b.location.hash.replace(/^(#(!|))/,"")||"";var o=k.split("&");g.previous=g.current;g.current={raw:k,pairs:{}};for(var l=0,m=o.length;l<m;l++){var n=o[l].split("=");g.current.pairs[n[0]]=n[1]}};var f=function(o){var l=o.hashKey,n=g.previous.pairs.hasOwnProperty(l),k=g.current.pairs.hasOwnProperty(l);var m=g.current.pairs[l],p=g.previous.pairs[l];if(k&&!n&&o.hasOwnProperty("onAppear")){o.onAppear(m)}if(!k&&n&&o.hasOwnProperty("onDisappear")){o.onDisappear(p)}if(k&&n&&m!==p){o.onChange(m,p)}};return{add:function(l){var m=l.hashKey,k="_"+j++;if(!i[m]){i[m]=[]}l.uid=k;i[m].push(l);return k},remove:function(n,m){if(m){for(var l=0,k=i[n].length;l<k;l++){if(m===i[n][l]["uid"]){i[n].splice(l,1)}}}else{delete i[n]}},trigger:function(k){f(k)},triggerAll:function(){h();var m;for(m in i){var n=i[m];for(var l=0,k=n.length;l<k;l++){f(n[l])}}}}}());var a={watch:function(f){if(f.hashKey){var g=d.add(f);d.trigger(f);return g}else{c.error("Hash key is not defined, nothing to watch.")}},unwatch:function(g,f){if(g){d.remove(g,f)}else{c.error("Hash key is not defined, nothing to unwatch.")}}};c.fn.hashwatcher=function(f){if(a[f]){return a[f].apply(this,Array.prototype.slice.call(arguments,1))}else{c.error("Method "+f+" does not exist on jQuery.hashwatcher")}};c(b).hashchange(function(f){d.triggerAll()});c(b).hashchange()})(jQuery,this);